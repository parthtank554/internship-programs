 {% extends 'base.html' %} 

    {% block content %} 
    <!--<h2 class="mb-4">Recent Stories</h2>

    <div class="row">
        {% for story in stories %}
        <div class="col-md-4">
            <div class="story-card">
                <div class="story-header">
                    <img src="{{ story.profile_pic|default:'/media/default-profile.jpg' }}" alt="{{ story.username }}">
                    <h5>{{ story.username }}</h5>
                </div>
                <div class="story-media">
                    {% if story.media_type == 'image' %}
                    <img src="{{ story.media_url }}" alt="Story">
                    {% else %}
                    <video controls>
                        <source src="{{ story.media_url }}" type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                    {% endif %}
                </div>
                <div class="story-actions">
                    <a href="{% url 'story_detail' story.id %}" class="btn btn-primary">View Details</a>
                    <span>{{ story.created_at|date:"M d, Y" }}</span>
                </div>
            </div>
        </div>
        {% empty %}
        <div class="col-12">
            <div class="alert alert-info">No stories available. Be the first to share!</div>
        </div>
        {% endfor %}
    </div>-->

{% load static %}

<!-- Story Circles -->
<div style="display: flex; gap: 20px; padding: 20px; overflow-x: auto; white-space: nowrap;">
    {% for story in stories %}
        <div style="text-align: center;">
            <a href="{% url 'story_detail' story.id %}" style="text-decoration: none; color: inherit;">
                <div style="border: 3px solid #ff0044; border-radius: 50%; width: 80px; height: 80px; overflow: hidden;">
                    {% if story.media_type == 'video' %}
                        <video src="{{ story.media_url }}" muted autoplay loop style="width: 100%; height: 100%; object-fit: cover;"></video>
                    {% else %}
                        <img src="{{ story.media_url }}" style="width: 100%; height: 100%; object-fit: cover;">
                    {% endif %}
                </div>
                <p style="margin-top: 5px;">{{ story.username }}</p>
            </a>
        </div>
    {% empty %}
        <p>No stories available</p>
    {% endfor %}
</div>
<hr>
<!-- Story Detail -->
<div class="story-container">
    <div class="username">{{ story.username }}</div>

    <!-- Progress Bar -->
    <div class="progress-bar-container">
        <div class="progress"></div>
    </div>

    <div class="timestamp">Uploaded at: {{ story.created_at|date:"M d, Y H:i" }}</div>

    {% if story.media_type == "image" %}
        <img src="{{ story.media_url }}" class="story-img" alt="Story Image">
    {% elif story.media_type == "video" %}
        <video class="story-video" autoplay muted>
            <source src="{{ story.media_url }}" type="video/mp4">
            Your browser does not support the video tag.
        </video>
    {% else %}
        <p>Unsupported media type.</p>
    {% endif %}
</div>

    {% endblock %} 